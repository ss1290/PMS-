<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="/stylesheet/admin.css">
        <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
    <body>
        <div class="heading1">
            <h1 class="heading" style="font-size:60px;"><span class="fa fa-plus"
                    style="font-size:60px;color:rgb(142, 142, 179);border-style:solid;border-radius:100%;padding:10px;border-width:2px;"></span>
                PMS <button class="logoutButton" onclick="logout()"><span class="fas fa-power-off"></span>&ensp;Logout</button></h1>
        </div>
        <h1 class="heading2" id="heading2">Edit Appointment</h1>
        <div class="navigationbar">
            <button class="dashboard1" onclick="dboard1()"><span><input type=image class="dashboardimage"
                        src="/img/dashboard.png"></span></span>&nbsp;Dashboard</button>
            <br>
            <button class="doctor1" onclick="showDoctor()"><span><input type=image class="doctorimage"
                        src="/img/doctor.jpg"></span>&emsp;Doctor</button>
            <br>
            <button class="patient1" onclick="showPatient()"><span><input type=image class="patientimage"
                        src="/img/patient.png"></span>&emsp;Patient</button>
            <br>
            <button class="staff1" onclick="showStaff()"><span><input type=image class="staffimage" src="/img/staff.png"
                        </span>&emsp;Staff</button>
            <br>
            <button class="profile1" onclick="showProfile()"><span><input type=image class="profileimage"
                        src="/img/profile.png"></span>&emsp;Profile</button>
        </div>
        <form id="appointmentedit" class="edit">
            <label>Department</label>
            <select id="department" required>
                <option value="{{appointment.department}}">{{appointment.department}}</option>
                {{#each this.doctor}}
                <option value="{{this.department}}">{{this.department}}</option>
                {{/each}}
            </select>
            <br>
            <label>Doctor</label>
            <select id="doctor" required>
                <option value="{{appointment.doctor}}">{{appointment.doctor}}</option>
                {{#each this.doctor}}
                <option value="{{this.name}}">{{this.name}}</option>
                {{/each}}
            </select>
            <br>
            <label>Date</label>
            <input type="date" id="date" required value="{{appointment.date}}" min="{{minDate}}">
            <br>
            <label>Time</label>
            <input type="time" id="time" required value="{{appointment.time}}">
            <br>
            <label>Name</label>
            <input type="text" id="name" required value="{{appointment.name}}">
            <br>
            <label>Email</label>
            <input type="text" id="email" required value="{{appointment.email}}">
            <br>
            <label>Phone No</label>
            <input type="text" id="phoneNumber" required value="{{appointment.phoneNumber}}">
            <br>
            <label>Address</label>
            <input type="text" id="address" required value="{{appointment.address}}">
            <br>
            <label for="gender">Gender</label>
            <select id="gender" name="gender" required>
                <option value="{{appointment.gender}}">{{appointment.gender}}</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
            </select>
            <br>
            <label>Age</label>
            <input type="text" id="age" required value="{{appointment.age}}">
            <br>
            <label for="bloodGroup">Blood Group</label>
            <select id="bloodGroup">
                <option value="{{appointment.bloodGroup}}">{{appointment.bloodGroup}}</option>
                <option value="O positive">O positive</option>
                <option value="A positive">A positive</option>
                <option value="B positive">B positive</option>
                <option value="AB positive">AB positive</option>
                <option value="O negative">O negative</option>
                <option value="A negative">A negative</option>
                <option value="B negative">B negative</option>
                <option value="AB negative">AB negative</option>
            </select>
            <br>
            <button class="edit2">Update</button>
        </form>
        <p id="message" class="message"></p>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.6.0/qs.min.js"></script>
        <script>
            function showDoctor() {
                var { token } = Qs.parse(location.search, { ignoreQueryPrefix: true })
                location.href = `/admin/doctor?&token=${token}&page=${0}`
            }
        </script>
        <script>
            function dboard1() {
                var { token } = Qs.parse(location.search, { ignoreQueryPrefix: true })
                location.href = `/dashboard/admin?&token=${token}`
            }
        </script>
        <script>
            function showStaff() {
                var { token } = Qs.parse(location.search, { ignoreQueryPrefix: true })
                location.href = `/admin/staff?&token=${token}&page=${0}`
            }
        </script>
        
        <script>
            function showPatient() {
                var { token } = Qs.parse(location.search, { ignoreQueryPrefix: true })
                location.href = `/admin/patient?&token=${token}&page=${0}`
            }
        </script>
        <script>
            function showProfile() {
                var { token } = Qs.parse(location.search, { ignoreQueryPrefix: true })
                location.href = `/adminprofile?&token=${token}`
            }
        </script>
        <script>
            var optionValues2 = [];
            $('#department option').each(function () {
                if ($.inArray(this.value, optionValues2) > -1) {
                    $(this).remove()
                } else {
                    optionValues2.push(this.value);
                }
            });
        </script>
        <script>
            var optionValues2 = [];
            $('#doctor option').each(function () {
                if ($.inArray(this.value, optionValues2) > -1) {
                    $(this).remove()
                } else {
                    optionValues2.push(this.value);
                }
            });
        </script>
        <script>
            var optionValues2 = [];
            $('#gender option').each(function () {
                if ($.inArray(this.value, optionValues2) > -1) {
                    $(this).remove()
                } else {
                    optionValues2.push(this.value);
                }
            });
        </script>
        <script>
            var optionValues2 = [];
            $('#bloodGroup option').each(function () {
                if ($.inArray(this.value, optionValues2) > -1) {
                    $(this).remove()
                } else {
                    optionValues2.push(this.value);
                }
            });
        </script>
        <script src="/js/logout.js"></script>
        <script src="/js/appointmentedit.js"></script>
    </body>
</html>