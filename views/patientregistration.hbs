<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="/stylesheet/staff.css">
        <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <div class="heading1">
        <h1 class="heading" style="font-size:50px;"><span class="fas fa-plus"
                style="font-size:40px;color:rgb(142, 142, 179);border-style:solid;border-radius:100%;padding:10px;border-width:7px;"></span>&ensp;
            PMS</h1>
        <button class="logoutButton" onclick="logout()"><span class="fas fa-power-off"></span>&ensp;Logout</button>
    </div>
    <h1 class="heading2" id="heading3">New Registration/New Appointment</h1>
    <p class="Slot">Select Slot</p>
    <button class="alreadyRegistered" onclick="addappointment()">Already registered</button>
    <form id="registrationform" class="appointmentform">
        <label>Department</label>
        <select id="department" required>
            {{#each this.doctor}}
            <option value="{{this.department}}">{{this.department}}</option>
            {{/each}}
        </select>
        <br>
        <label>Doctor</label>
        <select id="doctor" required>
            {{#each this.doctor}}
            <option value="{{this.name}}">{{this.name}}</option>
            {{/each}}
        </select>
        <br>
        <label>Date</label>
        <input type="date" id="date" required min="{{minDate}}">
        <br>
        <label>Time</label>
        <input type="time" id="time" required>
        <br>
        <p class="patientinfo">Patient Information</p>
        <br>
        <label>Name</label>
        <input type="text" id="name" required>
        <br>
        <label>Email</label>
        <input type="text" id="email" required>
        <br>
        <label>Phone No</label>
        <input type="text" id="phoneNumber" required>
        <br>
        <label>Address</label>
        <input type="text" id="address" required>
        <br>
        <label for="gender">Gender</label>
        <select id="gender" name="gender" required>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
        </select>
        <br>
        <label>Age</label>
        <input type="text" id="age" required>
        <br>
        <label for="bloodGroup">Blood Group</label>
        <select id="bloodGroup">
            <option value="O positive">O positive</option>
            <option value="A positive">A positive</option>
            <option value="B positive">B positive</option>
            <option value="AB positive">AB positive</option>
            <option value="O negative">O negative</option>
            <option value="A negative">A negative</option>
            <option value="B negative">B negative</option>
            <option value="AB negative">AB negative</option>
        </select>
        <br>
        <button class="addappointments">Submit</button>
    </form>
    <p id="message" class="message"></p>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.6.0/qs.min.js"></script>
    <script>
        function addappointment(){
            var { token } = Qs.parse(location.search, { ignoreQueryPrefix: true })
            location.href = `/staff/patientappointment?&token=${token}`
        }
    </script>
    <script src="/js/logout.js"></script>
    <script src="/js/patientregistration.js"></script>
    <script>
        var optionValues = [];
        $('#department option').each(function () {
            if ($.inArray(this.value, optionValues) > -1) {
                $(this).remove()
                }
                else {
                    optionValues.push(this.value)
            }
        })
    </script>
    <script>
        var optionValues1 = [];
        $('#doctor option').each(function () {
            if ($.inArray(this.value, optionValues1) > -1) {
                $(this).remove()
            }
            else {
                optionValues1.push(this.value)
            }
        })
    </script>
</html>
